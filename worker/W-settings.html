<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hirewale · Worker Settings</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --brand-600:#0ea5e9;
      --brand-700:#0284c7;
      --brand-success:#16a34a;
      --brand-warning:#f59e0b;
      --brand-danger:#dc2626;
      --ink:#0f172a;
      --card-bg:#ffffff;
      --glass-bg: rgba(255, 255, 255, 0.75);
      --glass-border: rgba(0, 0, 0, 0.08);
      --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      --transition-speed: 0.3s;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto;}
    body{
      min-height:100vh;
      background:
        radial-gradient(1200px 600px at 10% 10%, #e0f2fe 0%, transparent 60%),
        radial-gradient(1000px 500px at 90% 20%, #bae6fd 0%, transparent 60%),
        linear-gradient(180deg, #f0f9ff 0%, #ffffff 40%, #f8fafc 100%);
      color:var(--ink);
      display:flex;
      justify-content:center;
      padding:32px 0;
    }
    .settings-container{
      width:min(100%,1200px);
      display:grid;
      gap:24px;
      padding:0 16px;
      grid-template-columns: 1fr 2fr;
      grid-template-areas: 
        "header header"
        "sidebar content";
    }
    
    .settings-header{
      grid-area: header;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:16px 0;
    }
    .settings-header h1{
      font-size:28px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .back-btn{
      padding:10px 18px;
      background:var(--brand-600);
      color:white;
      border:none;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      transition: all 0.3s ease;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .back-btn:hover{
      background:var(--brand-700);
      transform:translateY(-2px);
      box-shadow:0 6px 16px rgba(14, 165, 233, 0.4);
    }
    
    .settings-sidebar{
      grid-area: sidebar;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(12px);
      border-radius:20px;
      padding:24px;
      box-shadow: var(--glass-shadow);
      height:fit-content;
    }
    .settings-nav{
      list-style:none;
    }
    .settings-nav li{
      margin-bottom:8px;
    }
    .settings-nav a{
      display:flex;
      align-items:center;
      gap:12px;
      padding:14px 16px;
      text-decoration:none;
      color:var(--ink);
      border-radius:12px;
      transition: all 0.3s ease;
    }
    .settings-nav a:hover,
    .settings-nav a.active{
      background:var(--brand-600);
      color:white;
    }
    .settings-nav a.active i{
      transform:scale(1.1);
    }
    
    .settings-content{
      grid-area: content;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(12px);
      border-radius:20px;
      padding:32px;
      box-shadow: var(--glass-shadow);
    }
    .settings-section{
      display:none;
      animation:fadeIn 0.4s ease;
    }
    .settings-section.active{
      display:block;
    }
    @keyframes fadeIn{
      from{opacity:0;transform:translateY(10px);}
      to{opacity:1;transform:translateY(0);}
    }
    .section-header{
      margin-bottom:24px;
      padding-bottom:16px;
      border-bottom:1px solid var(--glass-border);
    }
    .section-header h2{
      font-size:22px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    
    /* Form Styles */
    .form-group{
      margin-bottom:20px;
    }
    .form-group label{
      display:block;
      margin-bottom:8px;
      font-weight:500;
    }
    .form-control{
      width:100%;
      padding:12px 16px;
      border:1px solid #ddd;
      border-radius:12px;
      font-size:16px;
      transition: all 0.3s ease;
    }
    .form-control:focus{
      outline:none;
      border-color:var(--brand-600);
      box-shadow:0 0 0 3px rgba(14, 165, 233, 0.2);
    }
    .form-help{
      font-size:13px;
      color:#64748b;
      margin-top:6px;
    }
    
    /* Profile Picture Upload */
    .profile-picture{
      display:flex;
      align-items:center;
      gap:20px;
      margin-bottom:24px;
    }
    .profile-picture img{
      width:100px;
      height:100px;
      border-radius:50%;
      object-fit:cover;
      border: 3px solid var(--brand-600);
      box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
    }
    .picture-actions{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .picture-btn{
      padding:8px 16px;
      background:#f1f5f9;
      border:1px solid #ddd;
      border-radius:8px;
      cursor:pointer;
      font-size:14px;
      transition: all 0.3s ease;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .picture-btn:hover{
      background:#e2e8f0;
    }
    .picture-btn.primary{
      background:var(--brand-600);
      color:white;
      border:none;
    }
    .picture-btn.primary:hover{
      background:var(--brand-700);
    }
    
    /* Toggle Switch */
    .toggle-switch{
      position:relative;
      display:inline-block;
      width:50px;
      height:26px;
    }
    .toggle-switch input{
      opacity:0;
      width:0;
      height:0;
    }
    .slider{
      position:absolute;
      cursor:pointer;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background-color:#ccc;
      transition:.4s;
      border-radius:34px;
    }
    .slider:before{
      position:absolute;
      content:"";
      height:18px;
      width:18px;
      left:4px;
      bottom:4px;
      background-color:white;
      transition:.4s;
      border-radius:50%;
    }
    input:checked + .slider{
      background-color:var(--brand-600);
    }
    input:checked + .slider:before{
      transform:translateX(24px);
    }
    
    /* Notification Preferences */
    .notification-pref{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:16px;
      background:#f8fafc;
      border-radius:12px;
      margin-bottom:12px;
    }
    .pref-info{
      flex:1;
    }
    .pref-info h3{
      font-size:16px;
      margin-bottom:4px;
    }
    .pref-info p{
      font-size:14px;
      color:#64748b;
    }
    
    /* Service Selection */
    .service-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));
      gap:16px;
      margin-bottom:24px;
    }
    .service-card{
      border:2px solid #e2e8f0;
      border-radius:12px;
      padding:16px;
      text-align:center;
      cursor:pointer;
      transition: all 0.3s ease;
    }
    .service-card:hover{
      border-color:var(--brand-600);
      transform:translateY(-3px);
    }
    .service-card.selected{
      border-color:var(--brand-600);
      background:#f0f9ff;
    }
    .service-card i{
      font-size:32px;
      color:var(--brand-600);
      margin-bottom:12px;
    }
    .service-card h3{
      font-size:16px;
      margin-bottom:8px;
    }
    .service-card p{
      font-size:14px;
      color:#64748b;
    }
    
    /* Working Hours */
    .hours-container{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:16px;
    }
    .day-schedule{
      background:#f8fafc;
      padding:16px;
      border-radius:12px;
      margin-bottom:16px;
    }
    .day-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:12px;
    }
    .day-title{
      font-weight:600;
    }
    .time-inputs{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    
    /* Security Settings */
    .security-card{
      background:#f8fafc;
      padding:20px;
      border-radius:12px;
      margin-bottom:20px;
    }
    .security-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:16px;
    }
    .security-status{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:14px;
      font-weight:600;
    }
    .status-badge{
      padding:4px 10px;
      border-radius:20px;
      font-size:12px;
    }
    .status-active{
      background:#dcfce7;
      color:#166534;
    }
    .security-actions{
      display:flex;
      gap:12px;
    }
    
    /* Button Styles */
    .btn{
      padding:12px 20px;
      border:none;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      transition: all 0.3s ease;
      color:white;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .btn:hover{
      transform:translateY(-2px);
      box-shadow:0 6px 16px rgba(0,0,0,0.15);
    }
    .btn-primary{
      background:var(--brand-600);
    }
    .btn-primary:hover{
      background:var(--brand-700);
      box-shadow:0 6px 16px rgba(14, 165, 233, 0.4);
    }
    .btn-secondary{
      background:#64748b;
    }
    .btn-secondary:hover{
      background:#475569;
      box-shadow:0 6px 16px rgba(100, 116, 139, 0.4);
    }
    .btn-danger{
      background:var(--brand-danger);
    }
    .btn-danger:hover{
      background:#b91c1c;
      box-shadow:0 6px 16px rgba(220, 38, 38, 0.4);
    }
    
    /* Form Actions */
    .form-actions{
      display:flex;
      justify-content:flex-end;
      gap:12px;
      margin-top:32px;
      padding-top:20px;
      border-top:1px solid var(--glass-border);
    }
    
    /* Modal Styles */
    .modal-overlay{
      display:none;
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      background:rgba(0,0,0,0.5);
      justify-content:center;
      align-items:center;
      z-index:1000;
      backdrop-filter: blur(4px);
    }
    .modal-content{
      background:var(--glass-bg);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(16px);
      padding:32px;
      border-radius:20px;
      max-width:500px;
      width:90%;
      animation:bounceIn 0.45s ease;
      box-shadow: var(--glass-shadow);
    }
    .modal-header{
      margin-bottom:20px;
    }
    .modal-body{
      margin-bottom:24px;
    }
    .modal-footer{
      display:flex;
      justify-content:flex-end;
      gap:12px;
    }
    @keyframes bounceIn{
      0%{opacity:0;transform:scale(0.8);}
      60%{opacity:1;transform:scale(1.05);}
      80%{transform:scale(0.95);}
      100%{transform:scale(1);}
    }
    
    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .settings-container {
        grid-template-columns: 1fr;
        grid-template-areas: 
          "header"
          "sidebar"
          "content";
      }
      .settings-sidebar {
        margin-bottom: 20px;
      }
    }
    
    @media (max-width: 768px) {
      .hours-container {
        grid-template-columns: 1fr;
      }
      .service-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    @media (max-width: 480px) {
      .service-grid {
        grid-template-columns: 1fr;
      }
      .profile-picture {
        flex-direction: column;
        text-align: center;
      }
      .form-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="settings-container">
    <!-- Header -->
    <div class="settings-header">
      <h1><i class="fas fa-cog"></i> Settings</h1>
      <button class="back-btn" onclick="window.location.href='W-dashboard.html'">
        <i class="fas fa-arrow-left"></i> Back to Dashboard
      </button>
    </div>
    
    <!-- Sidebar Navigation -->
    <div class="settings-sidebar">
      <ul class="settings-nav">
        <li><a href="#profile" class="active" data-section="profile"><i class="fas fa-user"></i> Profile</a></li>
        <li><a href="#services" data-section="services"><i class="fas fa-briefcase"></i> Services</a></li>
        <li><a href="#availability" data-section="availability"><i class="fas fa-calendar"></i> Availability</a></li>
        <li><a href="#notifications" data-section="notifications"><i class="fas fa-bell"></i> Notifications</a></li>
        <li><a href="#security" data-section="security"><i class="fas fa-shield-alt"></i> Security</a></li>
        <li><a href="#payment" data-section="payment"><i class="fas fa-credit-card"></i> Payment</a></li>
        <li><a href="#privacy" data-section="privacy"><i class="fas fa-lock"></i> Privacy</a></li>
      </ul>
    </div>
    
    <!-- Content Area -->
    <div class="settings-content">
      <!-- Profile Section -->
      <div class="settings-section active" id="profile-section">
        <div class="section-header">
          <h2><i class="fas fa-user"></i> Profile Information</h2>
        </div>
        
        <div class="profile-picture">
          <img src="https://via.placeholder.com/100" alt="Profile Photo" id="settingsProfilePic">
          <div class="picture-actions">
            <button class="picture-btn primary" id="uploadPictureBtn">
              <i class="fas fa-upload"></i> Upload New Photo
            </button>
            <button class="picture-btn" id="removePictureBtn">
              <i class="fas fa-trash"></i> Remove Photo
            </button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="fullName">Full Name</label>
          <input type="text" id="fullName" class="form-control" placeholder="Enter your full name">
        </div>
        
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" class="form-control" placeholder="Enter your email address">
          <div class="form-help">We'll never share your email with anyone else.</div>
        </div>
        
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number">
        </div>
        
        <div class="form-group">
          <label for="bio">Bio</label>
          <textarea id="bio" class="form-control" rows="4" placeholder="Tell clients about yourself and your experience"></textarea>
          <div class="form-help">Maximum 250 characters.</div>
        </div>
        
        <div class="form-actions">
          <button class="btn btn-secondary">Cancel</button>
          <button class="btn btn-primary" id="saveProfileBtn">Save Changes</button>
        </div>
      </div>
      
      <!-- Services Section -->
      <div class="settings-section" id="services-section">
        <div class="section-header">
          <h2><i class="fas fa-briefcase"></i> Service Preferences</h2>
        </div>
        
        <div class="form-group">
          <label>Select your primary service category</label>
          <select class="form-control" id="serviceCategory">
            <option value="">Select a category</option>
            <option value="electrician">Electrician</option>
            <option value="plumber">Plumber</option>
            <option value="carpenter">Carpenter</option>
            <option value="painter">Painter</option>
            <option value="cleaner">Cleaner</option>
            <option value="mechanic">Mechanic</option>
            <option value="technician">Technician</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Specializations</label>
          <div class="service-grid">
            <div class="service-card" data-service="wiring">
              <i class="fas fa-bolt"></i>
              <h3>Electrical Wiring</h3>
              <p>Home & office wiring</p>
            </div>
            <div class="service-card" data-service="installation">
              <i class="fas fa-tools"></i>
              <h3>Appliance Installation</h3>
              <p>ACs, fans, fixtures</p>
            </div>
            <div class="service-card" data-service="repair">
              <i class="fas fa-wrench"></i>
              <h3>Repair & Maintenance</h3>
              <p>Fixing electrical issues</p>
            </div>
            <div class="service-card" data-service="consultation">
              <i class="fas fa-lightbulb"></i>
              <h3>Consultation</h3>
              <p>Electrical advice</p>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="hourlyRate">Hourly Rate (₹)</label>
          <input type="number" id="hourlyRate" class="form-control" placeholder="Enter your hourly rate">
          <div class="form-help">This is the default rate clients will see when booking your services.</div>
        </div>
        
        <div class="form-group">
          <label for="experience">Years of Experience</label>
          <input type="number" id="experience" class="form-control" placeholder="Enter years of experience">
        </div>
        
        <div class="form-actions">
          <button class="btn btn-secondary">Cancel</button>
          <button class="btn btn-primary" id="saveServicesBtn">Save Changes</button>
        </div>
      </div>
      
      <!-- Availability Section -->
      <div class="settings-section" id="availability-section">
        <div class="section-header">
          <h2><i class="fas fa-calendar"></i> Working Hours & Availability</h2>
        </div>
        
        <div class="form-group">
          <label>Set your weekly availability</label>
          <div class="hours-container">
            <div class="day-schedule">
              <div class="day-header">
                <span class="day-title">Monday</span>
                <label class="toggle-switch">
                  <input type="checkbox" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="time-inputs">
                <div>
                  <label>Start Time</label>
                  <input type="time" class="form-control" value="09:00">
                </div>
                <div>
                  <label>End Time</label>
                  <input type="time" class="form-control" value="17:00">
                </div>
              </div>
            </div>
            
            <div class="day-schedule">
              <div class="day-header">
                <span class="day-title">Tuesday</span>
                <label class="toggle-switch">
                  <input type="checkbox" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="time-inputs">
                <div>
                  <label>Start Time</label>
                  <input type="time" class="form-control" value="09:00">
                </div>
                <div>
                  <label>End Time</label>
                  <input type="time" class="form-control" value="17:00">
                </div>
              </div>
            </div>
            
            <!-- More days would follow the same pattern -->
          </div>
        </div>
        
        <div class="form-group">
          <label for="breakTime">Break Time (minutes)</label>
          <input type="number" id="breakTime" class="form-control" value="60" min="0">
          <div class="form-help">Time between appointments for travel and breaks.</div>
        </div>
        
        <div class="form-group">
          <label>Same-day appointments</label>
          <label class="toggle-switch">
            <input type="checkbox" checked>
            <span class="slider"></span>
          </label>
          <div class="form-help">Allow clients to book appointments with less than 24 hours notice.</div>
        </div>
        
        <div class="form-actions">
          <button class="btn btn-secondary">Cancel</button>
          <button class="btn btn-primary" id="saveAvailabilityBtn">Save Changes</button>
        </div>
      </div>
      
      <!-- Notifications Section -->
      <div class="settings-section" id="notifications-section">
        <div class="section-header">
          <h2><i class="fas fa-bell"></i> Notification Preferences</h2>
        </div>
        
        <div class="notification-pref">
          <div class="pref-info">
            <h3>Email Notifications</h3>
            <p>Receive important updates via email</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" checked>
            <span class="slider"></span>
          </label>
        </div>
        
        <div class="notification-pref">
          <div class="pref-info">
            <h3>SMS Notifications</h3>
            <p>Get text alerts for new jobs</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" checked>
            <span class="slider"></span>
          </label>
        </div>
        
        <div class="notification-pref">
          <div class="pref-info">
            <h3>Push Notifications</h3>
            <p>Get instant alerts on your device</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" checked>
            <span class="slider"></span>
          </label>
        </div>
        
        <div class="notification-pref">
          <div class="pref-info">
            <h3>New Job Alerts</h3>
            <p>Notify me when new jobs match my skills</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" checked>
            <span class="slider"></span>
          </label>
        </div>
        
        <div class="notification-pref">
          <div class="pref-info">
            <h3>Booking Confirmations</h3>
            <p>Notify me when clients book my services</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" checked>
            <span class="slider"></span>
          </label>
        </div>
        
        <div class="notification-pref">
          <div class="pref-info">
            <h3>Review Notifications</h3>
            <p>Alert me when clients leave reviews</p>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" checked>
            <span class="slider"></span>
          </label>
        </div>
        
        <div class="form-actions">
          <button class="btn btn-secondary">Cancel</button>
          <button class="btn btn-primary" id="saveNotificationsBtn">Save Preferences</button>
        </div>
      </div>
      
      <!-- Security Section -->
      <div class="settings-section" id="security-section">
        <div class="section-header">
          <h2><i class="fas fa-shield-alt"></i> Security Settings</h2>
        </div>
        
        <div class="security-card">
          <div class="security-header">
            <div>
              <h3>Password</h3>
              <div class="security-status">
                <span>Last changed: 3 months ago</span>
                <span class="status-badge status-active">Secure</span>
              </div>
            </div>
            <button class="btn btn-primary" id="changePasswordBtn">Change Password</button>
          </div>
        </div>
        
        <div class="security-card">
          <div class="security-header">
            <div>
              <h3>Two-Factor Authentication</h3>
              <div class="security-status">
                <span>Add an extra layer of security</span>
                <span class="status-badge" style="background:#fef3c7;color:#92400e;">Inactive</span>
              </div>
            </div>
            <button class="btn btn-secondary" id="enable2FABtn">Enable 2FA</button>
          </div>
        </div>
        
        <div class="security-card">
          <div class="security-header">
            <div>
              <h3>Active Sessions</h3>
              <div class="security-status">
                <span>Manage your logged-in devices</span>
              </div>
            </div>
            <button class="btn btn-secondary" id="viewSessionsBtn">View Sessions</button>
          </div>
          <div class="form-help">You're logged in on this device (Chrome, Windows)</div>
        </div>
        
        <div class="form-actions">
          <button class="btn btn-secondary">Cancel</button>
          <button class="btn btn-primary" id="saveSecurityBtn">Save Settings</button>
        </div>
      </div>
      
      <!-- Other sections would follow the same pattern -->
      
    </div>
  </div>
  
  <!-- Change Password Modal -->
  <div id="passwordModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2><i class="fas fa-lock"></i> Change Password</h2>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="currentPassword">Current Password</label>
          <input type="password" id="currentPassword" class="form-control">
        </div>
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input type="password" id="newPassword" class="form-control">
          <div class="form-help">Use at least 8 characters with a mix of letters, numbers & symbols.</div>
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirm New Password</label>
          <input type="password" id="confirmPassword" class="form-control">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cancelPasswordBtn">Cancel</button>
        <button class="btn btn-primary" id="updatePasswordBtn">Update Password</button>
      </div>
    </div>
  </div>
  
  <!-- Upload Picture Modal -->
  <div id="uploadModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2><i class="fas fa-camera"></i> Update Profile Picture</h2>
      </div>
      <div class="modal-body">
        <div style="text-align:center; margin-bottom:20px;">
          <img src="https://via.placeholder.com/150" id="uploadPreview" style="width:150px;height:150px;border-radius:50%;object-fit:cover;border:3px solid var(--brand-600);">
        </div>
        <div class="form-group">
          <input type="file" id="profileUpload" accept="image/*" style="display:none;">
          <button class="btn btn-primary" style="width:100%;" onclick="document.getElementById('profileUpload').click()">
            <i class="fas fa-upload"></i> Choose Image
          </button>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cancelUploadBtn">Cancel</button>
        <button class="btn btn-primary" id="saveUploadBtn">Save Picture</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Load worker data
      const workerData = JSON.parse(sessionStorage.getItem('workerData')) || {
        fullName: 'John Doe',
        email: 'john.doe@example.com',
        phone: '+91 9876543210',
        serviceCategory: 'electrician',
        bio: 'Experienced electrician with 5+ years of expertise in residential and commercial electrical work.',
        hourlyRate: 500,
        experience: 5
      };
      
      // Populate form fields with existing data
      if(workerData.fullName) document.getElementById('fullName').value = workerData.fullName;
      if(workerData.email) document.getElementById('email').value = workerData.email;
      if(workerData.phone) document.getElementById('phone').value = workerData.phone;
      if(workerData.bio) document.getElementById('bio').value = workerData.bio;
      if(workerData.serviceCategory) document.getElementById('serviceCategory').value = workerData.serviceCategory;
      if(workerData.hourlyRate) document.getElementById('hourlyRate').value = workerData.hourlyRate;
      if(workerData.experience) document.getElementById('experience').value = workerData.experience;
      
      // Navigation
      const navLinks = document.querySelectorAll('.settings-nav a');
      const sections = document.querySelectorAll('.settings-section');
      
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const targetSection = this.getAttribute('data-section');
          
          // Update active navigation link
          navLinks.forEach(link => link.classList.remove('active'));
          this.classList.add('active');
          
          // Show target section
          sections.forEach(section => section.classList.remove('active'));
          document.getElementById(`${targetSection}-section`).classList.add('active');
        });
      });
      
      // Service selection
      const serviceCards = document.querySelectorAll('.service-card');
      serviceCards.forEach(card => {
        card.addEventListener('click', function() {
          this.classList.toggle('selected');
        });
      });
      
      // Modal functionality
      const passwordModal = document.getElementById('passwordModal');
      const uploadModal = document.getElementById('uploadModal');
      
      document.getElementById('changePasswordBtn').addEventListener('click', () => {
        passwordModal.style.display = 'flex';
      });
      
      document.getElementById('cancelPasswordBtn').addEventListener('click', () => {
        passwordModal.style.display = 'none';
      });
      
      document.getElementById('uploadPictureBtn').addEventListener('click', () => {
        uploadModal.style.display = 'flex';
      });
      
      document.getElementById('cancelUploadBtn').addEventListener('click', () => {
        uploadModal.style.display = 'none';
      });
      
      // Image preview for upload
      document.getElementById('profileUpload').addEventListener('change', function() {
        if (this.files && this.files[0]) {
          const reader = new FileReader();
          reader.onload = function(e) {
            document.getElementById('uploadPreview').src = e.target.result;
          }
          reader.readAsDataURL(this.files[0]);
        }
      });
      
      // Save handlers
      document.getElementById('saveProfileBtn').addEventListener('click', function() {
        // Get updated values
        const updatedData = {
          fullName: document.getElementById('fullName').value,
          email: document.getElementById('email').value,
          phone: document.getElementById('phone').value,
          bio: document.getElementById('bio').value
        };
        
        // Update session storage
        const existingData = JSON.parse(sessionStorage.getItem('workerData')) || {};
        sessionStorage.setItem('workerData', JSON.stringify({...existingData, ...updatedData}));
        
        // Show success message
        alert('Profile updated successfully!');
      });
      
      // Close modals when clicking outside
      window.addEventListener('click', function(e) {
        if (e.target === passwordModal) {
          passwordModal.style.display = 'none';
        }
        if (e.target === uploadModal) {
          uploadModal.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>